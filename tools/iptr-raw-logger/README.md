# iptr-raw-logger

`iptr-raw-logger` will decode and log details for Intel PT packets. This is very useful when inspecting low-level information about an Intel-PT trace.

## Build and install

You should install the lastest rust compiler toolset, and follow the following instructions:

```shell
git clone --depth 1 https://github.com/Evian-Zhang/iptr
cd iptr/tools/iptr-raw-logger
RUSTFLAGS="-C target-cpu=native" cargo build --release
```

Then the executable will be generated at `iptr/target/release/iptr-raw-logger`.

## Usage

```plaintext
./iptr-raw-logger --help
Decode target intel PT packets in the low level and logs all details.

Set the environment variable `RUST_LOG=trace` for logging.

Usage: iptr-raw-logger [OPTIONS] --input <INPUT>

Options:
  -i, --input <INPUT>
          Path of intel PT trace

  -f, --format <FORMAT>
          Input file format. Default is pure Intel PT

          Possible values:
          - intel-pt:  Pure Intel PT record traces
          - perf-data: perf.data generated by perf with intel-pt

  -h, --help
```
